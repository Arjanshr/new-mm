(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3046],{3482:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/brands/[slug]",function(){return a(8067)}])},8067:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return p}});var l=a(5893),t=a(8314),i=a(1097),r=a(7687),n=a(7690),c=a(3523),d=a(6474),m=a(8578),o=a(699),x=a(1163),u=a(7294),p=!0;s.default=e=>{let{brand:s}=e;(0,x.useRouter)();let a=(0,m.TL)(),[p,h]=(0,u.useState)(!1),f=(0,c.Z)(),[g,b]=(0,u.useState)([]),[j,N]=(0,u.useState)(0),[y,w]=(0,u.useState)(5e5),[v,k]=(0,u.useState)([0,5e5]),[_,C]=(0,u.useState)(1),[S]=(0,u.useState)(20),{categories:P,products:M,loading:E,total:F}=(0,m.CG)(e=>e.brandState);(0,u.useEffect)(()=>{s&&a((0,o.p3)({id:s.id}))},[s,a]),(0,u.useEffect)(()=>{s&&a((0,o.dS)({slug:s.slug,page:_,pageSize:S,min_price:j,max_price:y,min_rating:0,max_rating:5,categories:g}))},[s,a,_,S,g,j,y]);let Z=e=>{b(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]),C(1)},G=e=>{let s=Number(e.target.value);"minPriceSlider"===e.target.id?k([s,v[1]]):k([v[0],s])},R=e=>{let s=Number(e.target.value);"minPrice"===e.target.id?(k([s,v[1]]),N(s)):(k([v[0],s]),w(s))},L=e=>{if(e>0&&e<=Math.ceil(F/S)){C(e);let s=document.getElementById("products-section");s&&s.scrollIntoView({behavior:"smooth"})}},T=(0,u.useMemo)(()=>Math.ceil(F/S),[F,S]);return(0,u.useEffect)(()=>()=>{a((0,d.L)())},[a]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{}),(0,l.jsx)("main",{children:(0,l.jsx)("div",{className:"flex flex-col justify-center items-center py-10 bg-white relative",children:(0,l.jsxs)("div",{className:"large:w-content w-full medium:px-[2.5rem] large:px-0 px-[1.5rem] text-webblack flex items-start gap-4",children:[(0,l.jsxs)("div",{className:"large:w-1/4 w-[300px] bg-gray-100 p-4 rounded-lg transition-all duration-300 \n    ".concat(p&&f<1350?"fixed top-0 right-0 z-[9999] shadow-lg min-h-screen overflow-auto":"max-large:hidden"),children:[(0,l.jsx)("div",{className:"large:hidden flex justify-end",children:(0,l.jsx)("i",{className:"fa-solid fa-times h-10 w-10 bg-primary text-white flex justify-center items-center text-xl",onClick:()=>h(!1)})}),(0,l.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Filter by Category"}),(0,l.jsx)("div",{className:"space-y-2",children:null==P?void 0:P.map(e=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"category-".concat(e.id),checked:g.includes(e.id),onChange:()=>Z(e.id),className:"mr-2"}),(0,l.jsx)("label",{htmlFor:"category-".concat(e.id),children:e.name})]},e.id))}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Price Range"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsxs)("span",{children:["Min: Rs ",v[0].toLocaleString()]}),(0,l.jsxs)("span",{children:["Max: Rs ",v[1].toLocaleString()]})]}),(0,l.jsx)("input",{type:"range",id:"minPriceSlider",min:"0",max:v[1],value:v[0],onChange:G,className:"w-full mb-2"}),(0,l.jsx)("input",{type:"range",id:"maxPriceSlider",min:v[0],max:"500000",value:v[1],onChange:G,className:"w-full mb-4"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("label",{htmlFor:"minPrice",className:"mr-2 text-sm",children:"Min:"}),(0,l.jsx)("input",{type:"number",id:"minPrice",value:v[0],onChange:R,className:"p-2 border rounded-md w-24"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("label",{htmlFor:"maxPrice",className:"mr-2 text-sm",children:"Max:"}),(0,l.jsx)("input",{type:"number",id:"maxPrice",value:v[1],onChange:R,className:"p-2 border rounded-md w-24"})]})]}),(0,l.jsx)(n.Z,{onClick:()=>{N(v[0]),w(v[1]),C(1),h(!1)},label:"Apply Filter",className:"w-full",type:"primary"}),(g.length>0||j>0||y<5e5)&&(0,l.jsx)(n.Z,{onClick:()=>{b([]),k([0,5e5]),N(0),w(5e5),C(1),h(!1)},label:"Reset Filters",className:"w-full md:hidden mt-3",type:"secondary"})]})]}),(0,l.jsxs)("div",{id:"products-section",className:"large:w-3/4 p-4 w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap",children:[(0,l.jsxs)("h2",{className:"font-semibold text-lg",children:[null==s?void 0:s.name," Products"]}),(0,l.jsxs)("div",{className:"flex items-end gap-4",children:[(0,l.jsxs)("p",{className:"text-webblack",children:["Showing ",(_-1)*S+1,"-",Math.min(_*S,F)," of ",F," products"]}),f<1350&&(0,l.jsx)(n.Z,{label:(0,l.jsxs)("span",{children:[(0,l.jsx)("i",{className:"fa-solid fa-filter"})," Filter"]}),type:"primary",onClick:()=>h(!0),className:"lg:hidden whitespace-nowrap"})]})]}),(0,l.jsx)("hr",{className:"mb-6"}),E?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(null==M?void 0:M.length)>0?(0,l.jsx)("div",{className:"grid large:grid-cols-3  grid-cols-1 min-[600px]:grid-cols-2 min-[1000px]:grid-cols-3 min-[1300px]:grid-cols-4 gap-4",children:M.map(e=>(0,l.jsx)(r.Z,{data:e},e.id))}):(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("p",{className:"text-webblack text-lg",children:"No products found"})}),T>0&&(0,l.jsx)("div",{className:"mt-8 flex justify-center",children:(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>L(1),disabled:1===_,className:"px-2 py-1 md:px-3 md:py-2 rounded-md ".concat(1===_?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-blue-100"),"aria-label":"Go to first page",children:(0,l.jsx)("i",{className:"fas fa-angle-double-left"})}),(0,l.jsx)("button",{onClick:()=>L(_-1),disabled:1===_,className:"px-2 py-1 md:px-3 md:py-2 rounded-md ".concat(1===_?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-blue-100"),"aria-label":"Go to previous page",children:(0,l.jsx)("i",{className:"fas fa-angle-left"})}),(()=>{let e=[];if(T<=5)for(let s=1;s<=T;s++)e.push(s);else{e.push(1);let s=Math.max(2,_-1),a=Math.min(T-1,_+1);_<=3&&(a=Math.min(T-1,4)),_>=T-2&&(s=Math.max(2,T-5+2)),s>2&&e.push("...");for(let l=s;l<=a;l++)e.push(l);a<T-1&&e.push("..."),T>1&&e.push(T)}return e})().map((e,s)=>"..."===e?(0,l.jsx)("span",{className:"px-2 py-1 md:px-3 md:py-2 text-webblack",children:"..."},"ellipsis-".concat(s)):(0,l.jsx)("button",{onClick:()=>"number"==typeof e&&L(e),className:"px-2 py-1 md:px-3 md:py-2 rounded-md ".concat(_===e?"bg-primary text-white":"text-primary hover:bg-blue-100"),children:e},"page-".concat(e))),(0,l.jsx)("button",{onClick:()=>L(_+1),disabled:_===T,className:"px-2 py-1 md:px-3 md:py-2 rounded-md ".concat(_===T?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-blue-100"),"aria-label":"Go to next page",children:(0,l.jsx)("i",{className:"fas fa-angle-right"})}),(0,l.jsx)("button",{onClick:()=>L(T),disabled:_===T,className:"px-2 py-1 md:px-3 md:py-2 rounded-md ".concat(_===T?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-blue-100"),"aria-label":"Go to last page",children:(0,l.jsx)("i",{className:"fas fa-angle-double-right"})})]})})]})]})})}),(0,l.jsx)(t.Z,{})]})}},1163:function(e,s,a){e.exports=a(9090)}},function(e){e.O(0,[1664,5675,1093,2888,9774,179],function(){return e(e.s=3482)}),_N_E=e.O()}]);