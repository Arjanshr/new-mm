(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9934],{5166:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/profile",function(){return l(462)}])},9998:function(e,a,l){"use strict";var t=l(5893),i=l(8640),r=l(1664),n=l.n(r);l(7294),a.Z=()=>{var e;return(0,t.jsx)("div",{className:"bg-white shadow-lg rounded-lg p-4",children:(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsxs)("ul",{className:"mt-4 w-full max-[1050px]:flex overflow-auto gap-4",children:[(0,t.jsxs)(n(),{href:"/profile",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat("/profile"===location.pathname?"bg-primary text-white":""),children:[(0,t.jsx)("i",{className:"fa-regular fa-user"}),(0,t.jsx)("span",{children:"Profile"})]}),(0,t.jsxs)(n(),{href:"/profile/changepassword",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat("/profile/changepassword"===location.pathname?"bg-primary text-white":""),children:[(0,t.jsx)("i",{className:"fa-solid fa-key"}),(0,t.jsx)("span",{children:"Change Password"})]}),(0,t.jsxs)(n(),{href:"/profile/address",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat((null===(e=location.pathname)||void 0===e?void 0:e.startsWith("/profile/address"))?"bg-primary text-white":""),children:[(0,t.jsx)("i",{className:"fa-regular fa-location"}),(0,t.jsx)("span",{children:"Address"})]}),(0,t.jsxs)(n(),{href:"/profile/orders",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat(location.pathname.startsWith("/profile/orders")?"bg-primary text-white":""),children:[(0,t.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,t.jsx)("span",{children:"Orders"})]}),(0,t.jsxs)(n(),{href:"/profile/wishlist",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat(location.pathname.startsWith("/profile/wishlist")?"bg-primary text-white":""),children:[(0,t.jsx)("i",{className:"fa-solid fa-heart"}),(0,t.jsx)("span",{children:"Wishlist"})]}),(0,t.jsxs)(n(),{href:"/profile/cancellations",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat(location.pathname.startsWith("/profile/cancellations")?"bg-primary text-white":""),children:[(0,t.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,t.jsx)("span",{children:"Cancellations"})]}),(0,t.jsxs)("li",{onClick:()=>(0,i.kS)(),className:"cursor-pointer flex items-center py-2 px-4 gap-2  hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg",children:[(0,t.jsx)("i",{className:"fa-solid fa-right-from-bracket"}),(0,t.jsx)("span",{children:"Logout"})]})]})})})}},7690:function(e,a,l){"use strict";l.d(a,{Z:function(){return n}});var t=l(5893),i=l(1664),r=l.n(i);function n(e){let{href:a,id:l,label:i,onClick:n,style:s,type:o,name:d,className:c,target:m,disabled:h}=e;return a?(0,t.jsx)(r(),{id:l,href:a,className:"btn btn-".concat(o||"link"),style:s,target:m,children:i}):(0,t.jsx)("button",{id:l,className:"text-xs btn btn-".concat(o||"plain"," ").concat(c||""),style:s,onClick:n,disabled:h,name:d,children:i})}},462:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return j}});var t=l(5893),i=l(7690),r=l(7294),n=l(9998),s=l(9062),o=l(8578),d=l(8640),c=l(1604),m=l(8745);c.z.object({id:(0,m.G5)("Id"),name:(0,m.G5)("Name"),email:(0,m.zU)("Email"),number:(0,m.G5)("Phone No.").optional().nullable(),birthday:(0,m.G5)("Date of Birth"),gender:(0,m.G5)("Gender"),profile_image_path:(0,m.G5)("Image")});let h=c.z.object({name:(0,m.G5)("Name"),email:(0,m.zU)("Email"),phone:(0,m.G5)("Phone No.").optional().nullable(),dob:(0,m.G5)("Date of Birth"),gender:(0,m.G5)("Gender")});var p=l(2130),u=l(2764),f=l(2321),x=l(5404),g=l(5835),b=l(2490),v=l(5675),w=l.n(v),j=()=>{var e,a;let l=(0,o.TL)(),c=(0,o.CG)(e=>e.profileState),m=(0,d.tO)(),[v,j]=(0,r.useState)({}),[N,y]=(0,r.useState)({}),[k,_]=(0,r.useState)(null);(0,r.useEffect)(()=>{m&&l((0,f.A)({token:m}))},[l,m]),(0,r.useEffect)(()=>{if(null==c?void 0:c.data){var e,a,l;j({name:(null==c?void 0:null===(e=c.data)||void 0===e?void 0:e.name)||"",email:(null==c?void 0:null===(a=c.data)||void 0===a?void 0:a.email)||"",phone:(null==c?void 0:null===(l=c.data)||void 0===l?void 0:l.number)||"",dob:c.data.birthday||"",gender:c.data.gender||""})}},[c.data]);let C=e=>{let{name:a,value:l}=e.target;j(e=>({...e,[a]:l})),e.target.required&&y(e=>({...e,[a]:l?"":"Field is required"}))};return(0,t.jsxs)(t.Fragment,{children:[(null==c?void 0:c.loading)&&(0,t.jsx)(x.Z,{}),(0,t.jsxs)("div",{className:"flex gap-4 max-[1050px]:flex-col",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(n.Z,{})}),(0,t.jsxs)("div",{className:"flex-[3] bg-white shadow-lg rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xl text-primary font-semibold",children:[(0,t.jsx)("i",{className:"fa-solid fa-user"}),(0,t.jsx)("span",{children:"Profile Details"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 max-[575px]:grid-cols-1",children:[(0,t.jsx)(s.Z,{label:"Full Name",name:"name",value:v.name||"",isRequired:!0,onChange:C,error:N.name}),(0,t.jsx)(s.Z,{label:"Phone No.",type:"number",name:"phone",value:v.phone||"",onChange:C}),(0,t.jsx)(s.Z,{label:"Email",name:"email",value:v.email||"",isRequired:!0,onChange:C,error:N.email}),(0,t.jsx)(s.Z,{label:"Date of Birth",name:"dob",type:"date",value:v.dob||"",isRequired:!0,onChange:C,error:N.dob}),(0,t.jsx)(g.Z,{label:"Gender",isRequired:!0,placeholder:"Select your gender",name:"gender",options:[{value:"male",displayValue:"Male"},{value:"female",displayValue:"Female"}],defaultValue:v.gender,onChange:C,error:null==N?void 0:N.gender})]}),(0,t.jsx)("h3",{className:"font-semibold text-webblack text-base",children:"Profile Picture"}),(0,t.jsxs)("div",{className:"flex gap-4 max-[450px]:flex-col-reverse",children:[(0,t.jsx)("div",{className:"w-[13rem]",children:(0,t.jsx)(b.Z,{onChange:e=>{e.target.files instanceof FileList&&_(e.target.files)},accept:"image/*"})}),(null==c?void 0:null===(e=c.data)||void 0===e?void 0:e.profile_image_path)&&!k&&(0,t.jsx)("div",{className:"flex justify-center items-center w-[13rem] h-[13rem]",children:(0,t.jsx)(w(),{src:null==c?void 0:null===(a=c.data)||void 0===a?void 0:a.profile_image_path,alt:"Profile",className:"w-full h-full object-contain",height:1e3,width:1e3,unoptimized:!0})})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(i.Z,{label:"Save Changes",type:"primary",onClick:e=>{try{var a,t,i;let e=(0,p.Fv)(v,h);if(null===(a=e.errors)||void 0===a?void 0:a.hasError){(0,u.Jc)("Please verify indicated fields"),y(e.errors.error);return}({name:v.name,...!(null===(t=c.data)||void 0===t?void 0:t.email)&&{email:v.email},...!(null===(i=c.data)||void 0===i?void 0:i.number)&&{email:v.phone},dob:v.dob,gender:v.gender});let r=(0,p.ue)(null==e?void 0:e.data);k&&r.append("photo",k[0]),m&&l((0,f.c)({data:r,token:m,callback:()=>{(0,u.Qm)("Profile Updated"),l((0,f.A)({token:m}))}}))}catch(e){(0,u.Jc)("Something went wrong with validation")}}})})]})]})]})]})}},8640:function(e,a,l){"use strict";l.d(a,{DX:function(){return n},kS:function(){return r},tO:function(){return i}});var t=l(2764);let i=()=>{let e=localStorage.getItem("mobilemandu-user"),a="string"==typeof e?JSON.parse(e):null;return null==a?void 0:a.token},r=()=>{localStorage.removeItem("mobilemandu-user"),(0,t.Qm)("Logged Out Successfully"),window.location.href="/login"},n=e=>{localStorage.setItem("mobilemandu-user",JSON.stringify(e))}}},function(e){e.O(0,[1664,5675,4665,2888,9774,179],function(){return e(e.s=5166)}),_N_E=e.O()}]);