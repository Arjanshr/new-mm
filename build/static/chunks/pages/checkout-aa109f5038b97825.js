(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2222],{2013:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return t(9217)}])},9062:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var i=t(5893),l=t(7294);function r(e){let{id:a,label:t,name:r,isRequired:s,placeholder:n,type:o,style:d,onClick:c,onChange:u,error:m,value:p,instruction:x,readOnly:v,autoComplete:h,max:b,min:y,onKeyPress:f}=e,[g,_]=(0,l.useState)(!1),N=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=N.current,a=a=>{document.activeElement===e&&"number"===o&&(null==e||e.blur())};return null==e||e.addEventListener("wheel",a),()=>{null==e||e.removeEventListener("wheel",a)}},[o]),(0,i.jsxs)("div",{className:"flex flex-col items-start gap-2 w-full relative",style:d,children:[t&&(0,i.jsxs)("label",{htmlFor:null!=a?a:"",className:"text-[#636568] text-base font-medium",children:[t," ",s?"*":""]}),(0,i.jsx)("input",{type:"password"===o?g?"text":"password":o,id:a,name:r,className:"p-2  rounded-[4px] h-10 w-full outline-none text-base bg-white text-[#636568] placeholder-opacity-30 border focus:border-secondary ".concat(m?"border-red-500":"border-[#B4BEC8]"," ").concat("date"===o?"date-picker":""," ").concat(v?"opacity-70":""),placeholder:n,onKeyPress:f,onClick:c,onChange:u,value:null!=p?p:"",required:s,readOnly:v,autoComplete:null!=h?h:r,min:y,max:b,ref:N}),m&&(0,i.jsx)("span",{className:"text-red-500 text-base",children:m}),"password"===o&&(0,i.jsx)("i",{className:"fa-regular fa-eye".concat(g?"":"-slash"," absolute right-2 cursor-pointer text-[#B4BEC8] text-base"),onClick:()=>_(e=>!e),style:{bottom:"10%"}}),x&&(0,i.jsx)("p",{className:"text-[#B4BEC8] text-base font-normal opacity-50 leading-6",children:x})]})}},5404:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var i=t(5893);function l(e){let{overlay:a}=e;return(0,i.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center w-full h-full z-20",children:[a&&(0,i.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-5"}),(0,i.jsxs)("div",{className:"relative w-20 h-20",children:[(0,i.jsx)("div",{className:"absolute inset-0 z-10 rounded-full border-8 border-primary border-opacity-20 animate-spin border-t-transparent"}),(0,i.jsx)("div",{className:"absolute inset-0 z-20 rounded-full border-8 border-primary border-t-transparent animate-spin"})]})]})}},5835:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var i=t(5893),l=t(7294);function r(e){var a,t,r,s,n;let{id:o,label:d,name:c,isRequired:u,placeholder:m,style:p,error:x,prefix:v,onChange:h,options:b,defaultValue:y,disabled:f,showSearch:g,instruction:_,zindex:N}=e,j=(0,l.useRef)(null),w=(0,l.useRef)(null),[k,C]=(0,l.useState)(!1),[P,S]=(0,l.useState)(null),[G,q]=(0,l.useState)(null),[H,z]=(0,l.useState)(b),D=e=>C(e),I=e=>{S(e);let a=H[e];h&&h({target:{name:null!=c?c:"SelectField",value:a.value,required:null!=u&&u,type:"text"}}),D(!1)},R=()=>{f||D(!k)},E=e=>{if(k&&H.length>0){if("ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let a=null!==P?P:-1;S("ArrowDown"===e.key?(a+1)%H.length:a>0?a-1:H.length-1)}else"Enter"===e.key&&null!==P&&I(P)}};return(0,l.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&w.current&&!w.current.contains(e.target)&&(D(!1),z(b))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[j,w,b]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{z(G?b.filter(e=>{var a;return(null!==(a=e.search)&&void 0!==a?a:e.value).toLowerCase().includes(G.toLowerCase())}):b)},500);return()=>{clearTimeout(e)}},[G,b]),(0,i.jsxs)("div",{className:"flex flex-col gap-2 w-full relative ".concat(x?"text-red-500":""),style:p,ref:j,children:[d&&(0,i.jsxs)("label",{htmlFor:o,className:"text-[#636568] font-semibold text-base cursor-pointer",onClick:R,tabIndex:1,children:[d," ",u?"*":""]}),(0,i.jsx)("div",{className:"w-full h-10 relative",children:k&&g?(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-md h-full ".concat(x?"border-red-500":"border-gray-300"),children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,i.jsx)("i",{className:"fa-regular fa-search text-base text-[#636568]"}),(0,i.jsx)("input",{type:"text",autoFocus:!0,placeholder:"Search..",className:"flex-1 border-none outline-none text-[#636568] placeholder-[#636568] text-base",onChange:e=>{let a=e.target.value;q(a?a.trim():null)}})]}),(0,i.jsx)("i",{className:"fa-regular fa-times text-base cursor-pointer text-[#636568]",onClick:()=>D(!1)})]}):(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-md h-full cursor-pointer ".concat(x?"border-red-500":"border-gray-300"),onClick:R,onKeyDown:E,tabIndex:1,children:[v&&(0,i.jsx)("div",{className:"text-[#636568] text-base mr-2",children:v}),(0,i.jsx)("div",{className:"flex-1 text-[#636568] text-base line-clamp-1",children:null!==P&&H[P]?null!==(r=H[P].displayValue)&&void 0!==r?r:H[P].value:y&&b.find(e=>e.value===y)?null!==(s=null===(a=b.find(e=>e.value===y))||void 0===a?void 0:a.displayValue)&&void 0!==s?s:null===(t=b.find(e=>e.value===y))||void 0===t?void 0:t.value:null!=m?m:b[0]?null!==(n=b[0].displayValue)&&void 0!==n?n:b[0].value:"Select"}),(0,i.jsx)("i",{className:"fa-regular fa-chevron-down text-base"})]})}),k&&(0,i.jsx)("div",{className:"absolute top-full w-full max-h-40 overflow-auto bg-white border border-gray-300 rounded-md z-10",onKeyDown:E,tabIndex:0,ref:w,children:H.length>0?H.map((e,a)=>{var t;return(0,i.jsx)("div",{className:"p-2 cursor-pointer text-[#636568] text-base ".concat(a===P?"bg-blue-100":""," hover:bg-gray-100"),onClick:()=>I(a),children:null!==(t=e.displayValue)&&void 0!==t?t:e.value},e.value)}):(0,i.jsx)("div",{className:"text-[#636568] text-base text-center p-2",children:"No Options Found"})}),x&&(0,i.jsx)("span",{className:"text-red-500 text-base",children:x}),_&&(0,i.jsx)("p",{className:"text-webblack text-base",children:_})]})}},9217:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSG:function(){return H},default:function(){return z}});var i=t(5893),l=t(8314),r=t(1097),s=t(7690),n=t(9062),o=t(5835),d=t(7268),c=t(2764),u=t(6139),m=t(8578),p=t(9962),x=t(6212),v=t(1604),h=t(8745);let b=v.z.object({order_date:(0,h.G5)("Order Date").optional().nullable(),customer_id:(0,h.Hp)("Customer ID").optional().nullable(),address:(0,h.Hp)("Address").optional().nullable(),reciever_name:(0,h.G5)("Receiver Name").min(1,"Receiver name is required"),address_type:v.z.enum(["home","office","others"],{required_error:"Address type is required"}),province_id:(0,h.G5)("Province ID"),city_id:(0,h.G5)("City ID"),area_id:(0,h.G5)("Area ID"),location:(0,h.G5)("Location").min(1,"Location is required"),phone_number:(0,h.G5)("Phone Number").min(10,"Phone number must be at least 10 digits"),email:(0,h.G5)("Email").email("Invalid email format"),payment_type:v.z.enum(["online","cash","mixed","others"],{required_error:"Payment type is required"}),payment_status:v.z.enum(["unpaid","paid","partially_paid"],{required_error:"Payment status is required"}),total_quantity:(0,h.Hp)("Total Quantity").min(1),total_amount:(0,h.Hp)("Total Amount").min(0),total_discount:(0,h.Hp)("Total Discount").min(0),shipping_price:(0,h.Hp)("Shipping Price").min(0).optional().nullable(),grand_total:(0,h.Hp)("Grand Total").min(0),items:v.z.array(v.z.object({id:(0,h.Hp)("Product ID"),name:(0,h.G5)("Product Name"),rate:(0,h.Hp)("Product Rate"),quantity:(0,h.Hp)("Product Quantity"),amount:(0,h.Hp)("Amount"),discount:(0,h.Hp)("Discount"),total:(0,h.Hp)("Total")})),coupon_code:(0,h.G5)("Coupon Code").optional().nullable(),coupon_discount:(0,h.Hp)("Coupon Discount").min(0).optional().nullable()});v.z.object({total_quantity:(0,h.Hp)("Total Quantity").min(1),cart_total:(0,h.Hp)("Cart Total").min(0),items:v.z.array(v.z.object({id:(0,h.Hp)("Product ID"),name:(0,h.G5)("Product Name"),rate:(0,h.Hp)("Product Rate"),quantity:(0,h.Hp)("Product Quantity"),amount:(0,h.Hp)("Amount"),discount:(0,h.Hp)("Discount"),total:(0,h.Hp)("Total")})),coupon_code:(0,h.G5)("Coupon Code").optional(),shipping_price:(0,h.Hp)("Shipping Price")}),v.z.object({message:(0,h.G5)("Message").optional(),shipping_price:(0,h.Hp)("Shipping Price"),discount:(0,h.Hp)("Discount"),new_total:(0,h.Hp)("New Total"),updated_items:v.z.array(v.z.object({id:(0,h.Hp)("Product ID"),rate:(0,h.Hp)("Product Rate"),quantity:(0,h.Hp)("Product Quantity"),discount:(0,h.Hp)("Discount"),total:(0,h.Hp)("Total")}))}),v.z.object({id:(0,h.Hp)("Order ID"),order_date:(0,h.G5)("Order Date"),total_items:(0,h.Hp)("Total Items"),total_price:(0,h.G5)("Total Price"),discount:(0,h.G5)("Discount"),shipping_price:(0,h.G5)("Shipping Price"),grand_total:(0,h.G5)("Grand Total"),coupon_code:(0,h.G5)("Coupon Code").nullable(),payment_type:(0,h.G5)("Payment Type"),payment_status:(0,h.G5)("Payment Status"),status:(0,h.G5)("Order Status"),area:v.z.object({id:(0,h.Hp)("Area ID"),name:(0,h.G5)("Area Name"),shipping_price:(0,h.G5)("Area Shipping Price")}),city:v.z.object({id:(0,h.Hp)("City ID"),name:(0,h.G5)("City Name")}),province:v.z.object({id:(0,h.Hp)("Province ID"),name:(0,h.G5)("Province Name")}),address:v.z.object({type:(0,h.G5)("Address Type"),location:(0,h.G5)("Address Location"),phone_number:(0,h.G5)("Phone Number")}),shipping_address:(0,h.G5)("Shipping Address"),cancellable:v.z.boolean()}),v.z.object({order_id:(0,h.Hp)("Order ID"),product:v.z.object({id:(0,h.Hp)("Product ID"),name:(0,h.G5)("Product Name"),slug:(0,h.G5)("Product Slug"),alt_text:(0,h.G5)("Product Alt Text"),description:(0,h.G5)("Product Description"),brand_id:(0,h.Hp)("Brand ID"),price:(0,h.G5)("Product Price"),status:(0,h.G5)("Product Status"),created_at:(0,h.G5)("Product Created At"),updated_at:(0,h.G5)("Product Updated At"),images:v.z.array(v.z.object({id:(0,h.Hp)("Image ID"),product_id:(0,h.Hp)("Product ID"),image:(0,h.G5)("Image"),image_order:(0,h.Hp)("Image Order"),is_primary:v.z.boolean(),created_at:(0,h.G5)("Image Created At"),updated_at:(0,h.G5)("Image Updated At")}))}),primary_image:(0,h.G5)("Primary Image"),coupon_code:(0,h.G5)("Coupon Code").nullable(),shipping_price:(0,h.G5)("Shipping Price").nullable(),quantity:(0,h.Hp)("Quantity"),price:(0,h.G5)("Item Price"),discount:(0,h.G5)("Discount"),review:(0,h.G5)("Review Status")});var y=t(2130),f=t(8640),g=t(5675),_=t.n(g),N=t(1163),j=t(7294),w=t(1664),k=t.n(w),C=t(2669),P=t(5404),S=t(2482),G=t(7514),q=t(1536),H=!0,z=()=>{var e,a,t,v,h,g,w,H,z;let D=(0,m.TL)(),I=(0,N.useRouter)(),{from:R}=I.query,E=(0,f.tO)(),A=(0,m.CG)(e=>e.profileState),T=(0,m.CG)(e=>e.useraddressState),{provinces:L,cities:O,areas:Z,shippingPrice:V,loading:Q}=(0,m.CG)(e=>e.addressState),F=(0,m.CG)(e=>e.cartState.data),B=(0,m.CG)(e=>e.buyNowState.data),[J,K]=(0,j.useState)(),[U,M]=(0,j.useState)({}),X=e=>{let{name:a,type:t,required:i}=e.target,l=(0,y.Hc)(t,e),r=null!=l&&""!==l;K(e=>{let t={...e,[a]:r?l:void 0};return"province_id"===a&&r&&(t.city_id=void 0,t.area_id=void 0,D((0,C.Rw)()),D((0,C.lK)()),D((0,C.vr)())),"city_id"===a&&r&&(t.area_id=void 0,D((0,C.lK)()),D((0,C.vr)())),"area_id"===a&&r&&D((0,C.vr)()),t}),i&&r&&M(e=>({...e,[a]:""}))};(0,j.useEffect)(()=>{E&&D((0,S.J)({token:E}))},[D,E]),(0,j.useEffect)(()=>{D((0,p.uy)())},[D]),(0,j.useEffect)(()=>{(null==J?void 0:J.province_id)&&D((0,p.MC)({id:Number(J.province_id)}))},[D,null==J?void 0:J.province_id]),(0,j.useEffect)(()=>{(null==J?void 0:J.city_id)&&D((0,p.ao)({id:Number(J.city_id)}))},[D,null==J?void 0:J.city_id]),(0,j.useEffect)(()=>{(null==J?void 0:J.area_id)&&D((0,p.iW)({id:Number(J.area_id)}))},[D,null==J?void 0:J.area_id]);let Y=(0,m.CG)(e=>e.orderState),W=("buyNow"===R?B:F).reduce((e,a)=>e+parseFloat(a.product.discounted_amount)*a.quantity,0),$=Number(null==V?void 0:V.shipping_price)||0,ee=(null==Y?void 0:null===(e=Y.coupon)||void 0===e?void 0:e.new_total)?null==Y?void 0:null===(a=Y.coupon)||void 0===a?void 0:a.new_total:W+$-0,ea=(null==Y?void 0:null===(t=Y.coupon)||void 0===t?void 0:t.new_total)?W+$-0-(null==Y?void 0:null===(v=Y.coupon)||void 0===v?void 0:v.new_total):0;return(0,j.useEffect)(()=>{(null==Y?void 0:Y.coupon)&&(0,c.Qm)("Coupon Applied")},[null==Y?void 0:Y.coupon]),(0,j.useEffect)(()=>{(null==Y?void 0:Y.checkout)&&((0,c.Qm)("Thank you for your order!"),"buyNow"===R?D((0,q.Cr)()):D((0,G.LL)()),D((0,u.Lg)()),I.push("/order-success"))},[null==Y?void 0:Y.checkout,I,D,R]),(0,j.useEffect)(()=>()=>{D((0,q.Cr)())},[D]),(0,i.jsxs)(i.Fragment,{children:[(null==Y?void 0:Y.loading)&&(0,i.jsx)(P.Z,{}),(0,i.jsx)(r.Z,{}),(0,i.jsxs)("main",{children:[(0,i.jsx)("div",{className:"flex flex-col justify-center items-center py-10 bg-white",children:(0,i.jsxs)("div",{className:"large:w-content w-full medium:px-[2.5rem] large:px-0 px-[1.5rem] text-webblack flex flex-col  gap-4",children:[(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("h1",{className:"text-xl font-semibold text-webblack mb-2",children:"Checkout"}),(0,i.jsx)("p",{className:"text-webblack",children:"Complete your purchase by filling in the details below"})]}),(0,i.jsxs)("div",{className:"flex  gap-8 max-[900px]:flex-col w-full",children:[(0,i.jsxs)("div",{className:"w-[60%] max-[900px]:w-full",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm  ",children:[(0,i.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,i.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-map-marker-alt text-webblack mr-2"}),"Shipping Address"]})}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsx)("div",{className:"flex gap-4 flex-nowrap pb-4 w-full",children:null==T?void 0:null===(h=T.data)||void 0===h?void 0:h.map(e=>(0,i.jsxs)("div",{className:"\n                          bg-gray-100 p-6 flex flex-col gap-2 rounded-lg shadow-md text-webblack \n                          ".concat((null==J?void 0:J.address)===Number(e.id)?"border-2 border-blue-500":"","\n                        "),children:[(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)("input",{type:"checkbox",name:"address",id:"address-".concat(e.id),checked:(null==J?void 0:J.address)===Number(e.id),onChange:()=>K(a=>{var t,i,l;return(null==a?void 0:a.address)===e.id?(D((0,C.Rw)()),D((0,C.lK)()),D((0,C.vr)()),{...a,address:void 0,province_id:void 0,city_id:void 0,area_id:void 0,location:void 0,address_type:void 0}):{...a,address:e.id,province_id:null===(t=e.province.id)||void 0===t?void 0:t.toString(),city_id:null===(i=e.city.id)||void 0===i?void 0:i.toString(),area_id:null===(l=e.area.id)||void 0===l?void 0:l.toString(),location:e.location,address_type:e.type}}),className:"mr-3 h-5 w-5"})}),(0,i.jsxs)("div",{className:" flex items-center gap-3 whitespace-nowrap",children:[(0,i.jsx)("i",{className:"fa-solid fa-globe"}),(0,i.jsx)("span",{className:"font-semibold",children:"Province: "}),e.province.name]}),(0,i.jsxs)("div",{className:" flex items-center gap-3 whitespace-nowrap",children:[(0,i.jsx)("i",{className:"fa-solid fa-city"}),(0,i.jsx)("span",{className:"font-semibold",children:"City: "})," ",e.city.name]}),(0,i.jsxs)("div",{className:"flex items-center gap-3 whitespace-nowrap",children:[(0,i.jsx)("i",{className:"fa-solid fa-location"}),(0,i.jsx)("span",{className:"font-semibold",children:"Area: "})," ",e.area.name]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,i.jsxs)("span",{className:"font-semibold",children:["Location:"," "]})," ",e.location]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("i",{className:"fa-solid fa-house"}),(0,i.jsx)("span",{className:"font-semibold",children:"Type: "})," ",e.type]})]},e.id))})}),(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"grid max-small:grid-cols-1 grid-cols-2 gap-4",children:[(0,i.jsx)(o.Z,{label:"Province",placeholder:"Choose your province",options:[...(null==L?void 0:L.map(e=>{var a;return{value:null===(a=e.id)||void 0===a?void 0:a.toString(),displayValue:e.name,search:e.name}}))||[]],onChange:X,showSearch:!0,name:"province_id",isRequired:!0,defaultValue:null==J?void 0:null===(g=J.province_id)||void 0===g?void 0:g.toString(),error:U.province_id,disabled:null!=J&&!!J.address}),(0,i.jsx)(o.Z,{label:"City",placeholder:"Choose your city",options:[...(null==O?void 0:O.map(e=>{var a;return{value:null===(a=e.id)||void 0===a?void 0:a.toString(),displayValue:e.name,search:e.name}}))||[]],onChange:X,showSearch:!0,name:"city_id",isRequired:!0,defaultValue:null==J?void 0:null===(w=J.city_id)||void 0===w?void 0:w.toString(),error:U.city_id,disabled:null!=J&&!!J.address}),(0,i.jsx)(o.Z,{label:"Area",placeholder:"Choose your area",options:[...(null==Z?void 0:Z.map(e=>{var a;return{value:null===(a=e.id)||void 0===a?void 0:a.toString(),displayValue:e.name,search:e.name}}))||[]],onChange:X,showSearch:!0,isRequired:!0,name:"area_id",defaultValue:null==J?void 0:null===(H=J.area_id)||void 0===H?void 0:H.toString(),error:U.area_id,disabled:null!=J&&!!J.address}),(0,i.jsx)(n.Z,{label:"Location",placeholder:"Your detailed address...",isRequired:!0,onChange:X,name:"location",value:null==J?void 0:J.location,error:U.location,readOnly:null!=J&&!!J.address}),(0,i.jsx)(o.Z,{label:"Location Type",placeholder:"Choose your location type",options:[{value:"home",displayValue:"Home"},{value:"office",displayValue:"Office"},{value:"others",displayValue:"Others"}],onChange:X,showSearch:!0,isRequired:!0,name:"address_type",defaultValue:null==J?void 0:null===(z=J.address_type)||void 0===z?void 0:z.toString(),error:U.address_type,disabled:null!=J&&!!J.address})]})})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm  ",children:[(0,i.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,i.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-user text-webblack mr-2"}),"Personal Details"]})}),(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"grid max-small:grid-cols-1 grid-cols-2 gap-6",children:[(0,i.jsx)(n.Z,{label:"Receiver Name",placeholder:"Full name...",isRequired:!0,onChange:X,name:"reciever_name",value:null==J?void 0:J.reciever_name,error:U.reciever_name}),(0,i.jsx)(n.Z,{label:"Receiver Email",placeholder:"Email address...",isRequired:!0,type:"email",onChange:X,name:"email",value:null==J?void 0:J.email,error:U.email}),(0,i.jsx)(n.Z,{label:"Receiver Phone No.",placeholder:"Phone number...",isRequired:!0,type:"number",onChange:X,name:"phone_number",value:null==J?void 0:J.phone_number,error:U.phone_number})]})})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm ",children:[(0,i.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,i.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-credit-card text-webblack mr-2"}),"Payment Method"]})}),(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("label",{className:"flex items-center p-4 border rounded-lg transition-colors cursor-pointer hover:bg-gray-50",children:[(0,i.jsx)("input",{type:"radio",name:"payment_type",value:"cash",onChange:X,checked:(null==J?void 0:J.payment_type)==="cash",className:"h-5 w-5 text-primary"}),(0,i.jsxs)("div",{className:"ml-3",children:[(0,i.jsx)("span",{className:"block text-webblack font-medium",children:"Cash on Delivery"}),(0,i.jsx)("span",{className:"block text-webblack text-sm",children:"Pay when you receive your order"})]})]}),(0,i.jsxs)("label",{className:"flex items-center p-4 border rounded-lg transition-colors cursor-pointer hover:bg-gray-50",children:[(0,i.jsx)("input",{type:"radio",name:"payment_type",value:"online",checked:(null==J?void 0:J.payment_type)==="online",className:"h-5 w-5 text-primary",onChange:X}),(0,i.jsxs)("div",{className:"ml-3",children:[(0,i.jsx)("span",{className:"block text-webblack font-medium",children:"QR Payment"}),(0,i.jsx)("span",{className:"block text-webblack text-sm",children:"Pay now using QR code"})]})]}),(null==J?void 0:J.payment_type)==="online"&&(0,i.jsx)("div",{className:"mt-4 flex justify-center p-6 bg-gray-50 rounded-lg",children:(0,i.jsxs)("div",{className:"max-w-xs",children:[(0,i.jsxs)("p",{className:"text-center text-webblack mb-4",children:[(0,i.jsx)("i",{className:"fas fa-qrcode text-primary mr-2"}),"Scan the QR code to make payment"]}),(0,i.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm mx-auto",children:(0,i.jsx)(_(),{src:d.QR,alt:"QR Code",className:"w-full h-auto",unoptimized:!0})})]})})]})})]})]}),(0,i.jsx)("div",{className:"w-[40%] max-[900px]:w-full",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm ",children:[(0,i.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,i.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-shopping-cart text-webblack mr-2"}),"Order Summary"]})}),(0,i.jsxs)("div",{className:"divide-y divide-gray-200",children:[0===("buyNow"===R?B:F).length?(0,i.jsxs)("div",{className:"p-6 text-center text-webblack",children:[(0,i.jsx)("i",{className:"fas fa-shopping-basket text-gray-300 text-3xl mb-2"}),(0,i.jsx)("p",{children:"Your cart is empty"})]}):(0,i.jsx)("div",{className:"large:max-h-80 overflow-y-auto",children:("buyNow"===R?B:F).map(e=>(0,i.jsxs)("div",{className:"flex items-center p-4 gap-4  max-small:justify-center max-small:flex-col",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-md relative flex-shrink-0",children:(0,i.jsx)(_(),{src:e.product.image_link,alt:e.product.name,unoptimized:!0,fill:!0,className:"h-full w-full object-contain p-2"})}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col gap-2 max-small:text-center",children:[(0,i.jsx)("h3",{className:"text-base font-medium text-webblack  r",children:e.product.name}),(0,i.jsxs)("div",{className:"text-base font-semibold text-primary whitespace-nowrap max-small:text-center",children:["Rs"," ",(parseFloat(e.product.discounted_amount)*e.quantity).toLocaleString()," ",(0,i.jsx)("i",{className:"fas fa-times text-xs mr-1"}),e.quantity]})]})]},e.productId))}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm ",children:[(0,i.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,i.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-tag text-webblack mr-2"}),"Apply Coupon"]})}),(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(n.Z,{placeholder:"Enter coupon code...",onChange:X,name:"coupon_code",value:null==J?void 0:J.coupon_code,error:U.coupon_code}),(0,i.jsx)(s.Z,{label:"Apply",type:"secondary",onClick:()=>{try{if(!(null==J?void 0:J.coupon_code)){(0,c.Jc)("Coupon code is required");return}let e=["province_id","city_id","area_id"].reduce((e,a)=>((null==J?void 0:J[a])||(e[a]="".concat(a.charAt(0).toUpperCase()+a.slice(1).replace("_"," ")," is required")),e),{});if(V&&0>Number(null==V?void 0:V.shipping_price)&&(0,c.Jc)("Please validate indicated fields"),Object.keys(e).length){M(a=>({...a,...e}));return}let a={total_quantity:("buyNow"===R?B:F).reduce((e,a)=>e+a.quantity,0),cart_total:("buyNow"===R?B:F).reduce((e,a)=>{var t;return e+Number(null===(t=a.product)||void 0===t?void 0:t.discounted_amount)*a.quantity},0),items:("buyNow"===R?B:F).map(e=>{var a;return{id:e.productId,name:e.product.name,rate:Number(e.product.discounted_amount),quantity:e.quantity,amount:Number(null===(a=e.product)||void 0===a?void 0:a.discounted_amount)*e.quantity,discount:0,total:Number(e.product.discounted_amount)*e.quantity}}),coupon_code:null==J?void 0:J.coupon_code,shipping_price:Number(null==V?void 0:V.shipping_price)};D((0,x.tD)({data:a,token:E}))}catch(e){(0,c.Jc)("Something went wrong. Please try again.")}},className:"whitespace-nowrap"})]})})]}),(0,i.jsxs)("div",{className:"p-4 space-y-3 bg-gray-50",children:[(0,i.jsxs)("div",{className:"flex justify-between text-base",children:[(0,i.jsx)("span",{className:"text-webblack",children:"Subtotal"}),(0,i.jsxs)("span",{className:"font-medium text-webblack",children:["Rs ",W.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between text-base",children:[(0,i.jsx)("span",{className:"text-webblack",children:"Shipping Fee"}),(0,i.jsxs)("span",{className:"font-medium text-webblack",children:["Rs ",$.toLocaleString()]})]}),!1,ea>0&&(0,i.jsxs)("div",{className:"flex justify-between text-base",children:[(0,i.jsx)("span",{className:"text-webblack",children:"Coupon Discount"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["- Rs ",ea.toLocaleString()]})]}),(0,i.jsx)("div",{className:"pt-3 border-t border-gray-200",children:(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-base font-medium text-webblack",children:"Total"}),(0,i.jsxs)("span",{className:"text-base font-medium text-webblack",children:["Rs ",ee.toLocaleString()]})]})})]})]}),(0,i.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:[(0,i.jsx)(s.Z,{label:Q?(0,i.jsxs)("span",{children:[(0,i.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processing..."]}):(0,i.jsxs)("span",{children:[(0,i.jsx)("i",{className:"fas fa-check-circle mr-2"}),"Place Order"]}),type:"primary",onClick:()=>{try{var e,a,t;let i={order_date:new Date().toISOString().split("T")[0],address:null==J?void 0:J.address,...E&&(null==A?void 0:A.data)&&{customer_id:null==A?void 0:null===(e=A.data)||void 0===e?void 0:e.id},reciever_name:null==J?void 0:J.reciever_name,address_type:null==J?void 0:J.address_type,province_id:null==J?void 0:J.province_id,city_id:null==J?void 0:J.city_id,area_id:null==J?void 0:J.area_id,location:null==J?void 0:J.location,phone_number:null==J?void 0:J.phone_number,email:null==J?void 0:J.email,payment_type:null==J?void 0:J.payment_type,payment_status:(null==J?void 0:J.payment_type)==="cash"?"unpaid":"paid",total_quantity:("buyNow"===R?B:F).reduce((e,a)=>e+a.quantity,0),total_amount:("buyNow"===R?B:F).reduce((e,a)=>{var t;return e+Number(null===(t=a.product)||void 0===t?void 0:t.discounted_amount)*a.quantity},0),total_discount:0,shipping_price:$||0,grand_total:ee,items:("buyNow"===R?B:F).map(e=>{var a;return{id:e.productId,name:e.product.name,rate:Number(e.product.discounted_amount),quantity:e.quantity,amount:Number(null===(a=e.product)||void 0===a?void 0:a.discounted_amount)*e.quantity,discount:0,total:Number(e.product.discounted_amount)*e.quantity}}),...(null==J?void 0:J.coupon_code)&&{coupon_code:null==J?void 0:J.coupon_code},...(null==J?void 0:J.coupon_code)&&{coupon_discount:ea||0}},l=(0,y.Fv)(i,b);if(null===(a=l.errors)||void 0===a?void 0:a.hasError){(0,c.Jc)("Please validate indicated fields"),M(null===(t=l.errors)||void 0===t?void 0:t.error);return}D((0,x.dN)({data:null==l?void 0:l.data,token:E}))}catch(e){(0,c.Jc)("Something went wrong. Please try again.")}},disabled:Q,className:"w-full py-3"}),(0,i.jsxs)("p",{className:"mt-4 text-xs text-center text-webblack",children:[(0,i.jsx)("i",{className:"fas fa-shield-alt text-gray-400 mr-1"}),"By placing your order, you agree to our"," ",(0,i.jsx)(k(),{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,i.jsx)(k(),{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})})]})]})}),(0,i.jsx)(l.Z,{})]})]})}},8745:function(e,a,t){"use strict";t.d(a,{G5:function(){return n},Hp:function(){return l},Uy:function(){return r},zU:function(){return s}});var i=t(1604);let l=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.z.number({required_error:"".concat(e," is required"),invalid_type_error:"Provide valid type"}).min(a,{message:"Must be a positive number"})},r=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return i.z.string({required_error:"".concat(e," is required"),invalid_type_error:"".concat(e," type is invalid")}).min(a,{message:"".concat(e," is too short")}).max(t,{message:"".concat(e," is too long")})},s=e=>i.z.string({required_error:"".concat(e," is required"),invalid_type_error:"Provide valid type"}).min(1,{message:"".concat(e," is required")}).email("Invalid email address"),n=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i.z.string({required_error:"".concat(e," is required"),invalid_type_error:"Provide valid type"}).min(a,{message:"".concat(e," is required")})};i.z.string({invalid_type_error:"Provide valid type"}).optional().nullable(),i.z.number({invalid_type_error:"Provide valid type"}).optional().nullable(),i.z.boolean({invalid_type_error:"Provide valid type"}).optional().nullable()},1163:function(e,a,t){e.exports=t(9090)}},function(e){e.O(0,[1664,5675,1093,2888,9774,179],function(){return e(e.s=2013)}),_N_E=e.O()}]);