"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8134],{831:function(e,a,l){l.d(a,{Z:function(){return h}});var s=l(5893),t=l(7294),i=l(7690),r=l(1351);function c(e){let{cancel:a,confirm:l,message:t,title:c,cancelName:n,confirmName:d}=e;return(0,s.jsx)(r.Z,{onClose:a,showAnimation:!0,children:(0,s.jsxs)("div",{className:"flex flex-col gap-8 p-6 pb-8",children:[(0,s.jsx)("h2",{className:"text-primary text-xl font-semibold",children:c}),(0,s.jsx)("p",{className:"text-black text-base",children:t}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)(i.Z,{label:null!=d?d:"Confirm",type:"primary",className:"min-w-[18%] w-max",onClick:l}),(0,s.jsx)(i.Z,{label:null!=n?n:"Cancel",type:"error",className:"min-w-[18%] w-max",onClick:a})]})]})})}var n=l(8578),d=l(6212),o=l(8640),x=l(2764),p=l(6139),m=l(9332),h=e=>{var a,l,r,h,u,b,v,f,g,j,N,w,y,k,_;let{order:C}=e,A=(0,n.TL)(),O=(0,m.useRouter)(),S=(0,o.tO)(),D=(0,m.usePathname)(),P=(0,n.CG)(e=>e.orderState),[Z,E]=(0,t.useState)(!1),R=(e=>{var a,l,s,t,i;let r=null==e?void 0:e.match(/Name:\s*([^<]+)/),c=null==e?void 0:e.match(/Phone:\s*([^<]+)/),n=null==e?void 0:e.match(/Email:\s*([^<\s]+@[^\s<]+)/),d=(n?n[1]:"N/A").split(/\s/)[0],o=null==e?void 0:null===(i=e.replace(/<[^>]*>/g," "))||void 0===i?void 0:null===(t=i.replace(/Name:[^<]+/i,""))||void 0===t?void 0:null===(s=t.replace(/Phone:[^<]+/i,""))||void 0===s?void 0:null===(l=s.replace(/Email:[^<]+/i,""))||void 0===l?void 0:null===(a=l.replace(/\s+/g," "))||void 0===a?void 0:a.trim();return{name:r?r[1].trim():"N/A",phone:c?c[1].trim():"N/A",email:d,fullAddress:o}})(null==C?void 0:C.shipping_address),W=Number(null==C?void 0:C.total_price)+Number(null==C?void 0:C.shipping_price)-Number(null==C?void 0:C.grand_total);return(0,t.useEffect)(()=>{(null==P?void 0:P.cancelOrderData)&&(E(!1),A((0,p.mq)()),(0,x.Qm)("Order Cancelled Successfully"),A((0,d.co)({token:S})))},[A,S,null==P?void 0:P.cancelOrderData]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white shadow-lg p-3 border-2 border-gray-100  space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-package text-primary"}),(0,s.jsxs)("h2",{className:"text-xl font-semibold text-webblack",children:["Order #",null==C?void 0:C.id]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[D==="/profile/orders/".concat(null==C?void 0:C.id)?(0,s.jsx)(i.Z,{type:"primary",label:"Back to Orders",onClick:()=>O.back()}):(0,s.jsx)(i.Z,{type:"primary",label:"View Detail",href:"/profile/orders/".concat(null==C?void 0:C.id)}),(null==C?void 0:C.cancellable)&&(0,s.jsx)(i.Z,{type:"error",label:"Cancel Order",onClick:()=>E(!0)})]})]}),(0,s.jsxs)("div",{className:"grid medium:grid-cols-2 grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-calendar text-webblack"}),(0,s.jsxs)("span",{className:"font-medium text-webblack",children:["Order Date: ",new Date(null==C?void 0:C.order_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-map-pin text-webblack"}),(0,s.jsxs)("span",{className:"font-medium text-webblack",children:[null==C?void 0:null===(a=C.area)||void 0===a?void 0:a.name,", ",null==C?void 0:null===(l=C.city)||void 0===l?void 0:l.name,","," ",null==C?void 0:null===(r=C.province)||void 0===r?void 0:r.name]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-credit-card text-webblack"}),(0,s.jsxs)("span",{className:"font-medium text-webblack",children:["Payment Type:"," ",(null==C?void 0:null===(u=C.payment_type)||void 0===u?void 0:null===(h=u.charAt(0))||void 0===h?void 0:h.toUpperCase())+(null==C?void 0:null===(b=C.payment_type)||void 0===b?void 0:b.slice(1))]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-money-check-alt text-webblack"}),(0,s.jsxs)("span",{className:"font-medium text-webblack flex items-center",children:["Payment Status:"," ",(0,s.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs ".concat((e=>{switch(e){case"unpaid":return"bg-red-100 text-red-600";case"partially_paid":return"bg-yellow-100 text-yellow-600";case"paid":return"bg-green-100 text-green-600";default:return"bg-gray-100 text-webblack"}})(null==C?void 0:C.payment_status)),children:(null==C?void 0:null===(g=C.payment_status)||void 0===g?void 0:null===(f=g.replace("_"," "))||void 0===f?void 0:null===(v=f.charAt(0))||void 0===v?void 0:v.toUpperCase())+(null==C?void 0:null===(j=C.payment_status)||void 0===j?void 0:j.replace("_"," ").slice(1))})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-bag-shopping text-webblack"}),(0,s.jsxs)("span",{className:"font-medium text-webblack flex items-center",children:["Order Status:"," ",(0,s.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs ".concat((e=>{switch(e){case"cancelled":return"bg-red-100 text-red-600";case"pending":return"bg-secondary text-white";case"completed":return"bg-green-100 text-green-600";default:return"bg-gray-100 text-webblack"}})(null==C?void 0:C.status)),children:(null==C?void 0:null===(y=C.status)||void 0===y?void 0:null===(w=y.replace("_"," "))||void 0===w?void 0:null===(N=w.charAt(0))||void 0===N?void 0:N.toUpperCase())+(null==C?void 0:null===(_=C.status)||void 0===_?void 0:null===(k=_.replace("_"," "))||void 0===k?void 0:k.slice(1))})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-700 mb-2",children:"Shipping Details"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-base text-webblack",children:[(0,s.jsx)("span",{className:"font-medium",children:"Name:"})," ",null==R?void 0:R.name]}),(0,s.jsxs)("p",{className:"text-base text-webblack",children:[(0,s.jsx)("span",{className:"font-medium",children:"Phone:"})," ",null==R?void 0:R.phone]}),(0,s.jsxs)("p",{className:"text-base text-webblack",children:[(0,s.jsx)("span",{className:"font-medium",children:"Email:"})," ",null==R?void 0:R.email]})]})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 max-small:grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-base text-webblack",children:"Total Items"}),(0,s.jsx)("p",{className:"font-bold text-webblack",children:null==C?void 0:C.total_items})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-base text-webblack",children:"Subtotal"}),(0,s.jsxs)("p",{className:"font-bold text-webblack",children:["Rs ",null==C?void 0:C.total_price]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-base text-webblack",children:"Shipping"}),(0,s.jsxs)("p",{className:"font-bold text-webblack",children:["Rs ",null==C?void 0:C.shipping_price]})]}),W>0&&(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-base text-webblack",children:"Coupon Code"}),(0,s.jsx)("p",{className:"font-bold text-primary",children:(null==C?void 0:C.coupon_code)||"N/A"})]}),W>0&&(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-base text-webblack",children:"Coupon Discount"}),(0,s.jsxs)("p",{className:"font-bold text-red-600",children:["-Rs ",W]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-base text-webblack",children:"Grand Total"}),(0,s.jsxs)("p",{className:"font-bold text-primary",children:["Rs ",null==C?void 0:C.grand_total]})]})]})})]}),Z&&(0,s.jsx)(c,{cancel:()=>E(!1),confirm:()=>{try{S&&A((0,d.sl)({id:C.id,token:S}))}catch(e){}},message:"Are you sure want to cancel this order ?",title:"Cancel Order"})]})}},9998:function(e,a,l){var s=l(5893),t=l(8640),i=l(1664),r=l.n(i);l(7294),a.Z=()=>{var e;return(0,s.jsx)("div",{className:"bg-white shadow-lg rounded-lg p-4",children:(0,s.jsx)("div",{className:"flex flex-col items-center",children:(0,s.jsxs)("ul",{className:"mt-4 w-full max-[1050px]:flex overflow-auto gap-4",children:[(0,s.jsxs)(r(),{href:"/profile",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat("/profile"===location.pathname?"bg-primary text-white":""),children:[(0,s.jsx)("i",{className:"fa-regular fa-user"}),(0,s.jsx)("span",{children:"Profile"})]}),(0,s.jsxs)(r(),{href:"/profile/changepassword",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat("/profile/changepassword"===location.pathname?"bg-primary text-white":""),children:[(0,s.jsx)("i",{className:"fa-solid fa-key"}),(0,s.jsx)("span",{children:"Change Password"})]}),(0,s.jsxs)(r(),{href:"/profile/address",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat((null===(e=location.pathname)||void 0===e?void 0:e.startsWith("/profile/address"))?"bg-primary text-white":""),children:[(0,s.jsx)("i",{className:"fa-regular fa-location"}),(0,s.jsx)("span",{children:"Address"})]}),(0,s.jsxs)(r(),{href:"/profile/orders",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat(location.pathname.startsWith("/profile/orders")?"bg-primary text-white":""),children:[(0,s.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,s.jsx)("span",{children:"Orders"})]}),(0,s.jsxs)(r(),{href:"/profile/wishlist",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat(location.pathname.startsWith("/profile/wishlist")?"bg-primary text-white":""),children:[(0,s.jsx)("i",{className:"fa-solid fa-heart"}),(0,s.jsx)("span",{children:"Wishlist"})]}),(0,s.jsxs)(r(),{href:"/profile/cancellations",className:"flex gap-2 items-center py-2 px-4 hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg mb-2 ".concat(location.pathname.startsWith("/profile/cancellations")?"bg-primary text-white":""),children:[(0,s.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,s.jsx)("span",{children:"Cancellations"})]}),(0,s.jsxs)("li",{onClick:()=>(0,t.kS)(),className:"cursor-pointer flex items-center py-2 px-4 gap-2  hover:bg-primary hover:text-white whitespace-nowrap text-webblack rounded-lg",children:[(0,s.jsx)("i",{className:"fa-solid fa-right-from-bracket"}),(0,s.jsx)("span",{children:"Logout"})]})]})})})}}}]);