"use strict";(()=>{var e={};e.id=2222,e.ids=[2222],e.modules={6288:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>b,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>h,routeModule:()=>j,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>g,unstable_getStaticProps:()=>y});var s=t(7093),i=t(5244),l=t(1323),o=t(1070),d=t(3893),n=t(3708),c=e([d,n]);[d,n]=c.then?(await c)():c;let u=(0,l.l)(n,"default"),p=(0,l.l)(n,"getStaticProps"),m=(0,l.l)(n,"getStaticPaths"),x=(0,l.l)(n,"getServerSideProps"),b=(0,l.l)(n,"config"),h=(0,l.l)(n,"reportWebVitals"),y=(0,l.l)(n,"unstable_getStaticProps"),g=(0,l.l)(n,"unstable_getStaticPaths"),f=(0,l.l)(n,"unstable_getStaticParams"),v=(0,l.l)(n,"unstable_getServerProps"),_=(0,l.l)(n,"unstable_getServerSideProps"),j=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/checkout",pathname:"/checkout",bundlePath:"",filename:""},components:{App:d.default,Document:o.default},userland:n});r()}catch(e){r(e)}})},9062:(e,a,t)=>{t.d(a,{Z:()=>i});var r=t(997),s=t(6689);function i({id:e,label:a,name:t,isRequired:i,placeholder:l,type:o,style:d,onClick:n,onChange:c,error:u,value:p,instruction:m,readOnly:x,autoComplete:b,max:h,min:y,onKeyPress:g}){let[f,v]=(0,s.useState)(!1),_=(0,s.useRef)(null);return(0,r.jsxs)("div",{className:"flex flex-col items-start gap-2 w-full relative",style:d,children:[a&&(0,r.jsxs)("label",{htmlFor:e??"",className:"text-[#636568] text-base font-medium",children:[a," ",i?"*":""]}),r.jsx("input",{type:"password"===o?f?"text":"password":o,id:e,name:t,className:`p-2  rounded-[4px] h-10 w-full outline-none text-base bg-white text-[#636568] placeholder-opacity-30 border focus:border-secondary ${u?"border-red-500":"border-[#B4BEC8]"} ${"date"===o?"date-picker":""} ${x?"opacity-70":""}`,placeholder:l,onKeyPress:g,onClick:n,onChange:c,value:p??"",required:i,readOnly:x,autoComplete:b??t,min:y,max:h,ref:_}),u&&r.jsx("span",{className:"text-red-500 text-base",children:u}),"password"===o&&r.jsx("i",{className:`fa-regular fa-eye${f?"":"-slash"} absolute right-2 cursor-pointer text-[#B4BEC8] text-base`,onClick:()=>v(e=>!e),style:{bottom:"10%"}}),m&&r.jsx("p",{className:"text-[#B4BEC8] text-base font-normal opacity-50 leading-6",children:m})]})}},5404:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(997);function s({overlay:e}){return(0,r.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center w-full h-full z-20",children:[e&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-5"}),(0,r.jsxs)("div",{className:"relative w-20 h-20",children:[r.jsx("div",{className:"absolute inset-0 z-10 rounded-full border-8 border-primary border-opacity-20 animate-spin border-t-transparent"}),r.jsx("div",{className:"absolute inset-0 z-20 rounded-full border-8 border-primary border-t-transparent animate-spin"})]})]})}},5835:(e,a,t)=>{t.d(a,{Z:()=>i});var r=t(997),s=t(6689);function i({id:e,label:a,name:t,isRequired:i,placeholder:l,style:o,error:d,prefix:n,onChange:c,options:u,defaultValue:p,disabled:m,showSearch:x,instruction:b,zindex:h}){let y=(0,s.useRef)(null),g=(0,s.useRef)(null),[f,v]=(0,s.useState)(!1),[_,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(null),[P,S]=(0,s.useState)(u),k=e=>v(e),q=e=>{j(e);let a=P[e];c&&c({target:{name:t??"SelectField",value:a.value,required:i??!1,type:"text"}}),k(!1)},C=()=>{m||k(!f)},G=e=>{if(f&&P.length>0){if("ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let a=null!==_?_:-1;j("ArrowDown"===e.key?(a+1)%P.length:a>0?a-1:P.length-1)}else"Enter"===e.key&&null!==_&&q(_)}};return(0,r.jsxs)("div",{className:`flex flex-col gap-2 w-full relative ${d?"text-red-500":""}`,style:o,ref:y,children:[a&&(0,r.jsxs)("label",{htmlFor:e,className:"text-[#636568] font-semibold text-base cursor-pointer",onClick:C,tabIndex:1,children:[a," ",i?"*":""]}),r.jsx("div",{className:"w-full h-10 relative",children:f&&x?(0,r.jsxs)("div",{className:`flex items-center justify-between p-2 border rounded-md h-full ${d?"border-red-500":"border-gray-300"}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[r.jsx("i",{className:"fa-regular fa-search text-base text-[#636568]"}),r.jsx("input",{type:"text",autoFocus:!0,placeholder:"Search..",className:"flex-1 border-none outline-none text-[#636568] placeholder-[#636568] text-base",onChange:e=>{let a=e.target.value;w(a?a.trim():null)}})]}),r.jsx("i",{className:"fa-regular fa-times text-base cursor-pointer text-[#636568]",onClick:()=>k(!1)})]}):(0,r.jsxs)("div",{className:`flex items-center justify-between p-2 border rounded-md h-full cursor-pointer ${d?"border-red-500":"border-gray-300"}`,onClick:C,onKeyDown:G,tabIndex:1,children:[n&&r.jsx("div",{className:"text-[#636568] text-base mr-2",children:n}),r.jsx("div",{className:"flex-1 text-[#636568] text-base line-clamp-1",children:null!==_&&P[_]?P[_].displayValue??P[_].value:p&&u.find(e=>e.value===p)?u.find(e=>e.value===p)?.displayValue??u.find(e=>e.value===p)?.value:l??(u[0]?u[0].displayValue??u[0].value:"Select")}),r.jsx("i",{className:"fa-regular fa-chevron-down text-base"})]})}),f&&r.jsx("div",{className:"absolute top-full w-full max-h-40 overflow-auto bg-white border border-gray-300 rounded-md z-10",onKeyDown:G,tabIndex:0,ref:g,children:P.length>0?P.map((e,a)=>r.jsx("div",{className:`p-2 cursor-pointer text-[#636568] text-base ${a===_?"bg-blue-100":""} hover:bg-gray-100`,onClick:()=>q(a),children:e.displayValue??e.value},e.value)):r.jsx("div",{className:"text-[#636568] text-base text-center p-2",children:"No Options Found"})}),d&&r.jsx("span",{className:"text-red-500 text-base",children:d}),b&&r.jsx("p",{className:"text-webblack text-base",children:b})]})}},3708:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>D,getStaticProps:()=>z});var s=t(997),i=t(8314),l=t(1097),o=t(7690),d=t(9062),n=t(5835),c=t(7268),u=t(2764),p=t(6139),m=t(1322),x=t(9962),b=t(6212),h=t(6227),y=t(2130),g=t(8640),f=t(5675),v=t.n(f),_=t(1163),j=t(6689),N=t(1664),w=t.n(N),P=t(2669),S=t(5404),k=t(2482),q=t(7514),C=t(1536),G=t(1076),H=e([l,u,p,m,x,b,h,y,g,P,k,q,C]);[l,u,p,m,x,b,h,y,g,P,k,q,C]=H.then?(await H)():H;let D=()=>{let e=(0,m.TL)(),a=(0,_.useRouter)(),{from:t}=a.query,r=(0,g.tO)(),f=(0,m.CG)(e=>e.profileState),N=(0,m.CG)(e=>e.useraddressState),{provinces:G,cities:H,areas:z,shippingPrice:D,loading:R}=(0,m.CG)(e=>e.addressState),I=(0,m.CG)(e=>e.cartState.data),A=(0,m.CG)(e=>e.buyNowState.data),[T,$]=(0,j.useState)(),[E,O]=(0,j.useState)({}),Z=a=>{let{name:t,type:r,required:s}=a.target,i=(0,y.Hc)(r,a),l=null!=i&&""!==i;$(a=>{let r={...a,[t]:l?i:void 0};return"province_id"===t&&l&&(r.city_id=void 0,r.area_id=void 0,e((0,P.Rw)()),e((0,P.lK)()),e((0,P.vr)())),"city_id"===t&&l&&(r.area_id=void 0,e((0,P.lK)()),e((0,P.vr)())),"area_id"===t&&l&&e((0,P.vr)()),r}),s&&l&&O(e=>({...e,[t]:""}))};(0,j.useEffect)(()=>{r&&e((0,k.J)({token:r}))},[e,r]),(0,j.useEffect)(()=>{e((0,x.uy)())},[e]),(0,j.useEffect)(()=>{T?.province_id&&e((0,x.MC)({id:Number(T.province_id)}))},[e,T?.province_id]),(0,j.useEffect)(()=>{T?.city_id&&e((0,x.ao)({id:Number(T.city_id)}))},[e,T?.city_id]),(0,j.useEffect)(()=>{T?.area_id&&e((0,x.iW)({id:Number(T.area_id)}))},[e,T?.area_id]);let V=(0,m.CG)(e=>e.orderState),L=("buyNow"===t?A:I).reduce((e,a)=>e+parseFloat(a.product.discounted_amount)*a.quantity,0),Q=Number(D?.shipping_price)||0,F=V?.coupon?.new_total?V?.coupon?.new_total:L+Q-0,B=V?.coupon?.new_total?L+Q-0-V?.coupon?.new_total:0;return(0,j.useEffect)(()=>{V?.coupon&&(0,u.Qm)("Coupon Applied")},[V?.coupon]),(0,j.useEffect)(()=>{V?.checkout&&((0,u.Qm)("Thank you for your order!"),"buyNow"===t?e((0,C.Cr)()):e((0,q.LL)()),e((0,p.Lg)()),a.push("/order-success"))},[V?.checkout,a,e,t]),(0,j.useEffect)(()=>()=>{e((0,C.Cr)())},[e]),(0,s.jsxs)(s.Fragment,{children:[V?.loading&&s.jsx(S.Z,{}),s.jsx(l.Z,{}),(0,s.jsxs)("main",{children:[s.jsx("div",{className:"flex flex-col justify-center items-center py-10 bg-white",children:(0,s.jsxs)("div",{className:"large:w-content w-full medium:px-[2.5rem] large:px-0 px-[1.5rem] text-webblack flex flex-col  gap-4",children:[(0,s.jsxs)("div",{className:"",children:[s.jsx("h1",{className:"text-xl font-semibold text-webblack mb-2",children:"Checkout"}),s.jsx("p",{className:"text-webblack",children:"Complete your purchase by filling in the details below"})]}),(0,s.jsxs)("div",{className:"flex  gap-8 max-[900px]:flex-col w-full",children:[(0,s.jsxs)("div",{className:"w-[60%] max-[900px]:w-full",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm  ",children:[s.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,s.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[s.jsx("i",{className:"fas fa-map-marker-alt text-webblack mr-2"}),"Shipping Address"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsx("div",{className:"flex gap-4 flex-nowrap pb-4 w-full",children:N?.data?.map(a=>s.jsxs("div",{className:`
                          bg-gray-100 p-6 flex flex-col gap-2 rounded-lg shadow-md text-webblack 
                          ${T?.address===Number(a.id)?"border-2 border-blue-500":""}
                        `,children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("input",{type:"checkbox",name:"address",id:`address-${a.id}`,checked:T?.address===Number(a.id),onChange:()=>$(t=>t?.address===a.id?(e(P.Rw()),e(P.lK()),e(P.vr()),{...t,address:void 0,province_id:void 0,city_id:void 0,area_id:void 0,location:void 0,address_type:void 0}):{...t,address:a.id,province_id:a.province.id?.toString(),city_id:a.city.id?.toString(),area_id:a.area.id?.toString(),location:a.location,address_type:a.type}),className:"mr-3 h-5 w-5"})}),s.jsxs("div",{className:" flex items-center gap-3 whitespace-nowrap",children:[s.jsx("i",{className:"fa-solid fa-globe"}),s.jsx("span",{className:"font-semibold",children:"Province: "}),a.province.name]}),s.jsxs("div",{className:" flex items-center gap-3 whitespace-nowrap",children:[s.jsx("i",{className:"fa-solid fa-city"}),s.jsx("span",{className:"font-semibold",children:"City: "})," ",a.city.name]}),s.jsxs("div",{className:"flex items-center gap-3 whitespace-nowrap",children:[s.jsx("i",{className:"fa-solid fa-location"}),s.jsx("span",{className:"font-semibold",children:"Area: "})," ",a.area.name]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("i",{className:"fa-solid fa-location-dot"}),s.jsxs("span",{className:"font-semibold",children:["Location:"," "]})," ",a.location]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("i",{className:"fa-solid fa-house"}),s.jsx("span",{className:"font-semibold",children:"Type: "})," ",a.type]})]},a.id))})}),s.jsx("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"grid max-small:grid-cols-1 grid-cols-2 gap-4",children:[s.jsx(n.Z,{label:"Province",placeholder:"Choose your province",options:[...G?.map(e=>({value:e.id?.toString(),displayValue:e.name,search:e.name}))||[]],onChange:Z,showSearch:!0,name:"province_id",isRequired:!0,defaultValue:T?.province_id?.toString(),error:E.province_id,disabled:!!T?.address}),s.jsx(n.Z,{label:"City",placeholder:"Choose your city",options:[...H?.map(e=>({value:e.id?.toString(),displayValue:e.name,search:e.name}))||[]],onChange:Z,showSearch:!0,name:"city_id",isRequired:!0,defaultValue:T?.city_id?.toString(),error:E.city_id,disabled:!!T?.address}),s.jsx(n.Z,{label:"Area",placeholder:"Choose your area",options:[...z?.map(e=>({value:e.id?.toString(),displayValue:e.name,search:e.name}))||[]],onChange:Z,showSearch:!0,isRequired:!0,name:"area_id",defaultValue:T?.area_id?.toString(),error:E.area_id,disabled:!!T?.address}),s.jsx(d.Z,{label:"Location",placeholder:"Your detailed address...",isRequired:!0,onChange:Z,name:"location",value:T?.location,error:E.location,readOnly:!!T?.address}),s.jsx(n.Z,{label:"Location Type",placeholder:"Choose your location type",options:[{value:"home",displayValue:"Home"},{value:"office",displayValue:"Office"},{value:"others",displayValue:"Others"}],onChange:Z,showSearch:!0,isRequired:!0,name:"address_type",defaultValue:T?.address_type?.toString(),error:E.address_type,disabled:!!T?.address})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm  ",children:[s.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,s.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[s.jsx("i",{className:"fas fa-user text-webblack mr-2"}),"Personal Details"]})}),s.jsx("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"grid max-small:grid-cols-1 grid-cols-2 gap-6",children:[s.jsx(d.Z,{label:"Receiver Name",placeholder:"Full name...",isRequired:!0,onChange:Z,name:"reciever_name",value:T?.reciever_name,error:E.reciever_name}),s.jsx(d.Z,{label:"Receiver Email",placeholder:"Email address...",isRequired:!0,type:"email",onChange:Z,name:"email",value:T?.email,error:E.email}),s.jsx(d.Z,{label:"Receiver Phone No.",placeholder:"Phone number...",isRequired:!0,type:"number",onChange:Z,name:"phone_number",value:T?.phone_number,error:E.phone_number})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm ",children:[s.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,s.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[s.jsx("i",{className:"fas fa-credit-card text-webblack mr-2"}),"Payment Method"]})}),s.jsx("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:"flex items-center p-4 border rounded-lg transition-colors cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"payment_type",value:"cash",onChange:Z,checked:T?.payment_type==="cash",className:"h-5 w-5 text-primary"}),(0,s.jsxs)("div",{className:"ml-3",children:[s.jsx("span",{className:"block text-webblack font-medium",children:"Cash on Delivery"}),s.jsx("span",{className:"block text-webblack text-sm",children:"Pay when you receive your order"})]})]}),(0,s.jsxs)("label",{className:"flex items-center p-4 border rounded-lg transition-colors cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"payment_type",value:"online",checked:T?.payment_type==="online",className:"h-5 w-5 text-primary",onChange:Z}),(0,s.jsxs)("div",{className:"ml-3",children:[s.jsx("span",{className:"block text-webblack font-medium",children:"QR Payment"}),s.jsx("span",{className:"block text-webblack text-sm",children:"Pay now using QR code"})]})]}),T?.payment_type==="online"&&s.jsx("div",{className:"mt-4 flex justify-center p-6 bg-gray-50 rounded-lg",children:(0,s.jsxs)("div",{className:"max-w-xs",children:[(0,s.jsxs)("p",{className:"text-center text-webblack mb-4",children:[s.jsx("i",{className:"fas fa-qrcode text-primary mr-2"}),"Scan the QR code to make payment"]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mx-auto",children:s.jsx(v(),{src:c.QR,alt:"QR Code",className:"w-full h-auto",unoptimized:!0})})]})})]})})]})]}),s.jsx("div",{className:"w-[40%] max-[900px]:w-full",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm ",children:[s.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,s.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[s.jsx("i",{className:"fas fa-shopping-cart text-webblack mr-2"}),"Order Summary"]})}),(0,s.jsxs)("div",{className:"divide-y divide-gray-200",children:[0===("buyNow"===t?A:I).length?(0,s.jsxs)("div",{className:"p-6 text-center text-webblack",children:[s.jsx("i",{className:"fas fa-shopping-basket text-gray-300 text-3xl mb-2"}),s.jsx("p",{children:"Your cart is empty"})]}):s.jsx("div",{className:"large:max-h-80 overflow-y-auto",children:("buyNow"===t?A:I).map(e=>(0,s.jsxs)("div",{className:"flex items-center p-4 gap-4  max-small:justify-center max-small:flex-col",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-md relative flex-shrink-0",children:s.jsx(v(),{src:e.product.image_link,alt:e.product.name,unoptimized:!0,fill:!0,className:"h-full w-full object-contain p-2"})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col gap-2 max-small:text-center",children:[s.jsx("h3",{className:"text-base font-medium text-webblack  r",children:e.product.name}),(0,s.jsxs)("div",{className:"text-base font-semibold text-primary whitespace-nowrap max-small:text-center",children:["Rs"," ",(parseFloat(e.product.discounted_amount)*e.quantity).toLocaleString()," ",s.jsx("i",{className:"fas fa-times text-xs mr-1"}),e.quantity]})]})]},e.productId))}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm ",children:[s.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-4",children:(0,s.jsxs)("h2",{className:"text-lg font-medium text-webblack flex items-center",children:[s.jsx("i",{className:"fas fa-tag text-webblack mr-2"}),"Apply Coupon"]})}),s.jsx("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx(d.Z,{placeholder:"Enter coupon code...",onChange:Z,name:"coupon_code",value:T?.coupon_code,error:E.coupon_code}),s.jsx(o.Z,{label:"Apply",type:"secondary",onClick:()=>{try{if(!T?.coupon_code){(0,u.Jc)("Coupon code is required");return}let a=["province_id","city_id","area_id"].reduce((e,a)=>(T?.[a]||(e[a]=`${a.charAt(0).toUpperCase()+a.slice(1).replace("_"," ")} is required`),e),{});if(D&&0>Number(D?.shipping_price)&&(0,u.Jc)("Please validate indicated fields"),Object.keys(a).length){O(e=>({...e,...a}));return}let s={total_quantity:("buyNow"===t?A:I).reduce((e,a)=>e+a.quantity,0),cart_total:("buyNow"===t?A:I).reduce((e,a)=>e+Number(a.product?.discounted_amount)*a.quantity,0),items:("buyNow"===t?A:I).map(e=>({id:e.productId,name:e.product.name,rate:Number(e.product.discounted_amount),quantity:e.quantity,amount:Number(e.product?.discounted_amount)*e.quantity,discount:0,total:Number(e.product.discounted_amount)*e.quantity})),coupon_code:T?.coupon_code,shipping_price:Number(D?.shipping_price)};e((0,b.tD)({data:s,token:r}))}catch(e){(0,u.Jc)("Something went wrong. Please try again.")}},className:"whitespace-nowrap"})]})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-3 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-webblack",children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-medium text-webblack",children:["Rs ",L.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-webblack",children:"Shipping Fee"}),(0,s.jsxs)("span",{className:"font-medium text-webblack",children:["Rs ",Q.toLocaleString()]})]}),!1,B>0&&(0,s.jsxs)("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-webblack",children:"Coupon Discount"}),(0,s.jsxs)("span",{className:"font-medium text-green-600",children:["- Rs ",B.toLocaleString()]})]}),s.jsx("div",{className:"pt-3 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-base font-medium text-webblack",children:"Total"}),(0,s.jsxs)("span",{className:"text-base font-medium text-webblack",children:["Rs ",F.toLocaleString()]})]})})]})]}),(0,s.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:[s.jsx(o.Z,{label:R?(0,s.jsxs)("span",{children:[s.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processing..."]}):(0,s.jsxs)("span",{children:[s.jsx("i",{className:"fas fa-check-circle mr-2"}),"Place Order"]}),type:"primary",onClick:()=>{try{let a={order_date:new Date().toISOString().split("T")[0],address:T?.address,...r&&f?.data&&{customer_id:f?.data?.id},reciever_name:T?.reciever_name,address_type:T?.address_type,province_id:T?.province_id,city_id:T?.city_id,area_id:T?.area_id,location:T?.location,phone_number:T?.phone_number,email:T?.email,payment_type:T?.payment_type,payment_status:T?.payment_type==="cash"?"unpaid":"paid",total_quantity:("buyNow"===t?A:I).reduce((e,a)=>e+a.quantity,0),total_amount:("buyNow"===t?A:I).reduce((e,a)=>e+Number(a.product?.discounted_amount)*a.quantity,0),total_discount:0,shipping_price:Q||0,grand_total:F,items:("buyNow"===t?A:I).map(e=>({id:e.productId,name:e.product.name,rate:Number(e.product.discounted_amount),quantity:e.quantity,amount:Number(e.product?.discounted_amount)*e.quantity,discount:0,total:Number(e.product.discounted_amount)*e.quantity})),...T?.coupon_code&&{coupon_code:T?.coupon_code},...T?.coupon_code&&{coupon_discount:B||0}},s=(0,y.Fv)(a,h.BS);if(s.errors?.hasError){(0,u.Jc)("Please validate indicated fields"),O(s.errors?.error);return}e((0,b.dN)({data:s?.data,token:r}))}catch(e){(0,u.Jc)("Something went wrong. Please try again.")}},disabled:R,className:"w-full py-3"}),(0,s.jsxs)("p",{className:"mt-4 text-xs text-center text-webblack",children:[s.jsx("i",{className:"fas fa-shield-alt text-gray-400 mr-1"}),"By placing your order, you agree to our"," ",s.jsx(w(),{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx(w(),{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})})]})]})}),s.jsx(i.Z,{})]})]})};async function z(e){return{props:{title:`Checkout | ${G.px}`,url:`${G._O}/checkout`}}}r()}catch(e){r(e)}})},8745:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{G5:()=>n,Hp:()=>l,Uy:()=>o,zU:()=>d});var s=t(9926),i=e([s]);s=(i.then?(await i)():i)[0];let l=(e,a=0)=>s.z.number({required_error:`${e} is required`,invalid_type_error:"Provide valid type"}).min(a,{message:"Must be a positive number"}),o=(e,a=6,t=32)=>s.z.string({required_error:`${e} is required`,invalid_type_error:`${e} type is invalid`}).min(a,{message:`${e} is too short`}).max(t,{message:`${e} is too long`}),d=e=>s.z.string({required_error:`${e} is required`,invalid_type_error:"Provide valid type"}).min(1,{message:`${e} is required`}).email("Invalid email address"),n=(e,a=1)=>s.z.string({required_error:`${e} is required`,invalid_type_error:"Provide valid type"}).min(a,{message:`${e} is required`});s.z.string({invalid_type_error:"Provide valid type"}).optional().nullable(),s.z.number({invalid_type_error:"Provide valid type"}).optional().nullable(),s.z.boolean({invalid_type_error:"Provide valid type"}).optional().nullable(),r()}catch(e){r(e)}})},6227:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{BS:()=>o});var s=t(9926),i=t(8745),l=e([s,i]);[s,i]=l.then?(await l)():l;let o=s.z.object({order_date:(0,i.G5)("Order Date").optional().nullable(),customer_id:(0,i.Hp)("Customer ID").optional().nullable(),address:(0,i.Hp)("Address").optional().nullable(),reciever_name:(0,i.G5)("Receiver Name").min(1,"Receiver name is required"),address_type:s.z.enum(["home","office","others"],{required_error:"Address type is required"}),province_id:(0,i.G5)("Province ID"),city_id:(0,i.G5)("City ID"),area_id:(0,i.G5)("Area ID"),location:(0,i.G5)("Location").min(1,"Location is required"),phone_number:(0,i.G5)("Phone Number").min(10,"Phone number must be at least 10 digits"),email:(0,i.G5)("Email").email("Invalid email format"),payment_type:s.z.enum(["online","cash","mixed","others"],{required_error:"Payment type is required"}),payment_status:s.z.enum(["unpaid","paid","partially_paid"],{required_error:"Payment status is required"}),total_quantity:(0,i.Hp)("Total Quantity").min(1),total_amount:(0,i.Hp)("Total Amount").min(0),total_discount:(0,i.Hp)("Total Discount").min(0),shipping_price:(0,i.Hp)("Shipping Price").min(0).optional().nullable(),grand_total:(0,i.Hp)("Grand Total").min(0),items:s.z.array(s.z.object({id:(0,i.Hp)("Product ID"),name:(0,i.G5)("Product Name"),rate:(0,i.Hp)("Product Rate"),quantity:(0,i.Hp)("Product Quantity"),amount:(0,i.Hp)("Amount"),discount:(0,i.Hp)("Discount"),total:(0,i.Hp)("Total")})),coupon_code:(0,i.G5)("Coupon Code").optional().nullable(),coupon_discount:(0,i.Hp)("Coupon Discount").min(0).optional().nullable()});s.z.object({total_quantity:(0,i.Hp)("Total Quantity").min(1),cart_total:(0,i.Hp)("Cart Total").min(0),items:s.z.array(s.z.object({id:(0,i.Hp)("Product ID"),name:(0,i.G5)("Product Name"),rate:(0,i.Hp)("Product Rate"),quantity:(0,i.Hp)("Product Quantity"),amount:(0,i.Hp)("Amount"),discount:(0,i.Hp)("Discount"),total:(0,i.Hp)("Total")})),coupon_code:(0,i.G5)("Coupon Code").optional(),shipping_price:(0,i.Hp)("Shipping Price")}),s.z.object({message:(0,i.G5)("Message").optional(),shipping_price:(0,i.Hp)("Shipping Price"),discount:(0,i.Hp)("Discount"),new_total:(0,i.Hp)("New Total"),updated_items:s.z.array(s.z.object({id:(0,i.Hp)("Product ID"),rate:(0,i.Hp)("Product Rate"),quantity:(0,i.Hp)("Product Quantity"),discount:(0,i.Hp)("Discount"),total:(0,i.Hp)("Total")}))}),s.z.object({id:(0,i.Hp)("Order ID"),order_date:(0,i.G5)("Order Date"),total_items:(0,i.Hp)("Total Items"),total_price:(0,i.G5)("Total Price"),discount:(0,i.G5)("Discount"),shipping_price:(0,i.G5)("Shipping Price"),grand_total:(0,i.G5)("Grand Total"),coupon_code:(0,i.G5)("Coupon Code").nullable(),payment_type:(0,i.G5)("Payment Type"),payment_status:(0,i.G5)("Payment Status"),status:(0,i.G5)("Order Status"),area:s.z.object({id:(0,i.Hp)("Area ID"),name:(0,i.G5)("Area Name"),shipping_price:(0,i.G5)("Area Shipping Price")}),city:s.z.object({id:(0,i.Hp)("City ID"),name:(0,i.G5)("City Name")}),province:s.z.object({id:(0,i.Hp)("Province ID"),name:(0,i.G5)("Province Name")}),address:s.z.object({type:(0,i.G5)("Address Type"),location:(0,i.G5)("Address Location"),phone_number:(0,i.G5)("Phone Number")}),shipping_address:(0,i.G5)("Shipping Address"),cancellable:s.z.boolean()}),s.z.object({order_id:(0,i.Hp)("Order ID"),product:s.z.object({id:(0,i.Hp)("Product ID"),name:(0,i.G5)("Product Name"),slug:(0,i.G5)("Product Slug"),alt_text:(0,i.G5)("Product Alt Text"),description:(0,i.G5)("Product Description"),brand_id:(0,i.Hp)("Brand ID"),price:(0,i.G5)("Product Price"),status:(0,i.G5)("Product Status"),created_at:(0,i.G5)("Product Created At"),updated_at:(0,i.G5)("Product Updated At"),images:s.z.array(s.z.object({id:(0,i.Hp)("Image ID"),product_id:(0,i.Hp)("Product ID"),image:(0,i.G5)("Image"),image_order:(0,i.Hp)("Image Order"),is_primary:s.z.boolean(),created_at:(0,i.G5)("Image Created At"),updated_at:(0,i.G5)("Image Updated At")}))}),primary_image:(0,i.G5)("Primary Image"),coupon_code:(0,i.G5)("Coupon Code").nullable(),shipping_price:(0,i.G5)("Shipping Price").nullable(),quantity:(0,i.Hp)("Quantity"),price:(0,i.G5)("Item Price"),discount:(0,i.G5)("Discount"),review:(0,i.G5)("Review Status")}),r()}catch(e){r(e)}})},9783:e=>{e.exports=require("aos")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},4161:e=>{e.exports=require("redux-persist")},1127:e=>{e.exports=require("redux-persist/integration/react")},8936:e=>{e.exports=require("redux-persist/lib/storage")},3258:e=>{e.exports=import("@reduxjs/toolkit")},9648:e=>{e.exports=import("axios")},3291:e=>{e.exports=import("react-redux")},3590:e=>{e.exports=import("react-toastify")},9926:e=>{e.exports=import("zod")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[6859,8577,5675,1163,3893,3033],()=>t(6288));module.exports=r})();